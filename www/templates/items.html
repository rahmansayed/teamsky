<ion-view>

  <ion-nav-bar class="theme-color">
  <!--  <ion-nav-back-button></ion-nav-back-button>-->
  </ion-nav-bar>
  <ion-nav-title> {{dynamicListTitle}}</ion-nav-title>


  <ion-nav-buttons side="left">
    <button menu-toggle="left" class="button button-icon icon ion-navicon" style="color: white;"
            ng-click="toggleLeft()"></button>
  </ion-nav-buttons>
  <ion-side-menus>
    <ion-pane ion-side-menu-content>
      <ion-nav-bar class="theme-color" animation="nav-title-slide-ios7" title="Setting">
        <ion-nav-back-button class="button-icon"><span class="icon ion-ios7-arrow-left"></span></ion-nav-back-button>
        <ion-nav-buttons side="right">
          <button class="theme-color button button-clear icon-left ion-android-more-vertical"
                  ng-click="popover.show($event)"
                  style="padding-right:17px;">

          </button>
        </ion-nav-buttons>
      </ion-nav-bar>
      <ion-nav-view animation="slide-left-right">

        <ion-header-bar class="bar-subheader item-input-inset">
          <label class="item-input-wrapper">
            <i class="icon placeholder-icon ion-android-search"></i>
            <input type="search" placeholder="{{'SEARCH' | translate}}" ng-change="search()" ng-model="data.search">

          </label>
          <!--    <div class="buttons">
                <button class="button button-light icon-left ion-plus-round" ng-click="addMasterItem(data.search)"
                        ng-show="data.search != data.items">Add
                </button>

                   <button class="button button-balanced ion-plus-round larger padding text-center"
                   ng-click="addMasterItem(data.search)"
               style=" border-radius: 50%;height:60px;width:60px;background-color:#09d261;box-shadow: 0 2px 10px 0 rgba(0, 0, 0, 0.2), 0 2px 5px 0 rgba(0, 0, 0, 0.2);transform: translate3d(0, 0, 0);"
                            ng-show="!data.items.length && data.search.length >2"></button>

              </div>-->

        </ion-header-bar>
        <!--
        <ion-floating-button click="modal.show()" has-footer="false" button-color="#941540" icon="ion-plus" icon-color="#fff">
        </ion-floating-button>-->

        <ion-floating-button click="addMasterItem(data.search)" has-footer="false" button-color="#09d261"
                             icon="ion-plus-round larger" icon-color="#fff"
                             ng-show="!data.items.length && data.search.length >2">
        </ion-floating-button>


        <ion-content class="padding">
        <div id="bg">
      <img src="img\grocery.jpg" alt="" style="opacity=0.5">
    </div>

          <!--    <ion-refresher on-refresh="refresh()">

              </ion-refresher>-->
          <div style="position: absolute;z-index: 2;opacity: 0.8;">
            <ion-list>
              <ion-item class="item"
                        ng-repeat="item in data.items"
                        ng-click="selectItems(item)"
                        >{{item.itemName}}
                        
              </ion-item>

            </ion-list>
          </div>


          <ion-list show-reorder="reorderFlag" style="position: absolute;z-index: 1;width:100%">


            <div class="list">
              <ion-list show-reorder="reorderFlag" show-delete="data.showDelete">

                <div class="item item-divider"
                     ng-repeat="category in entries.listOpenEntries.categories | orderBy"
                     style="padding-bottom:20px;">

                  <p>
                  <h2 style="padding-bottom:10px;font-size=30px;font-weight: bold;"
                      align="center"
                      ng-click="category.foldStatus = ! category.foldStatus">
                    {{category.categoryName}} </h2>


                  </p>


                  <ion-item class="my-item no-padding item-profile item-remove-animate item-icon-right item calm-bg"
                            ng-repeat="listItem in entries.listOpenEntries.entries  | filter:{categoryName: category.categoryName }"
                            ng-click="itemChecked(listItem)"
                            style=" border-radius:15px;background-color:white;"
                            ng-hide="category.foldStatus">


                    <div style="display:inline; float:center;">
                      <h2 style="display:inline;text-align:left;white-space: normal;">

                        {{listItem.itemName}}
                        <!--{{listItem.seenFlag}}--></h2>
                        
                <div style="padding-right:2px;background-color:white;">

                  <ion-delete-button class="ion-minus-circled" ng-click="removeFromList(listItem)" style="background-color:white;">
                  </ion-delete-button>
                </div>    
                    <div ng-show="showItemDetails">
                      <p style="text-align:left;white-space: normal;" >
                        <i> {{listItem.quantity}} {{listItem.uom}} <span translate>FROM</span>
                          {{listItem.retailerName}} </i></p>
                      <ion-option-button class="button-assertive icon-left ion-trash-a"
                                         ng-click="removeFromList(listItem)"></ion-option-button>
                      <!--                <ion-option-button class="button-calm icon-right ion-edit"
                                                         ng-click="editListItem(listItem)"></ion-option-button>-->
                      <ion-option-button class="button-calm icon-left ion-edit"
                                         ng-click=" openModal(listItem)"></ion-option-button>

                    </div>
                    </div>


                    <div ng-show="showItemDetails" class="no-padding" style="display:inline; float:right; ">
                      <div align="right" ng-show="listItem.flag=='N'" style="display:inline;">
                        <p style="display:inline;"><!--&#x25CB;-->
                          <i class="fa fa-spinner fa-pulse"></i>
                          </p>
                      </div>

                      <div align="right" ng-show="listItem.flag=='S'&&listItem.deliveredFlag==0" style="display:inline;">
                        <p style="display:inline; ">&#10004; </p>
                      </div>

                      <div align="right" ng-show="listItem.deliveredFlag==1&&listItem.seenFlag!=3" style="display:inline;">
                        <p style="display:inline;">&#10004;&#10004;</p>
                      </div>

                      <div align="right" ng-show="listItem.seenFlag==3" style="display:inline;">
                        <p style="display:inline;color:#9EE2DC;">&#10004;&#10004;</p>
                      </div>
                    </div>


                  </ion-item>

                </div>
              </ion-list>
            </div>
            <div class="list"
                 style="padding-bottom:30px;">
              <ion-list show-reorder="reorderFlag">
                <button class="button button-block button-balanced"
                        ng-show="entries.listCrossedEntries.length != 0"
                        style="background-color:#941540;color:white;padding-top:5px;" translate>
                 CROSSED
                </button>

                <div style="padding-right:20px;padding-left:20px;">
                  <ion-item class="my-item no-padding item-remove-animate item-icon-right"
                            ng-repeat="checkedItem in entries.listCrossedEntries"
                            ng-click=unCheckItem(checkedItem)
                            style=" border-radius:15px;">

                    <h2><s>{{checkedItem.itemName}}</s></h2>
                  </ion-item>
                </div>
              </ion-list>
            </div>

          </ion-list>
          </div>


        </ion-content>
      </ion-nav-view>
    </ion-pane>

    <ion-side-menu side="left">
      <ion-header-bar class="theme-color"></ion-header-bar>
      <ion-content has-header="true">
        <ion-list>
          <ion-item class="icon-left ion-person larger" ng-click="account()"><h2
            style="display:inline;padding-left:5px;" translate> ACCOUNT</h2></ion-item>
          <ion-item class="icon-left ion-android-notifications larger" ng-click="toggleLeft()"><h2
            style="display:inline;padding-left:5px;" translate> NOTIFICATION</h2></ion-item>
          <ion-item class="icon-left ion-information-circled larger" ng-click="toggleLeft()"><h2
            style="display:inline;padding-left:5px;" translate> HELP</h2></ion-item>
        </ion-list>


      </ion-content>
    </ion-side-menu>


    <!--  <ion-side-menu side="right" >
        <ion-header-bar class="theme-color" title="Search"></ion-header-bar>
        <ion-content has-header="true">

        </ion-content>
      </ion-side-menu>
    </ion-side-menus>-->


</ion-view>
